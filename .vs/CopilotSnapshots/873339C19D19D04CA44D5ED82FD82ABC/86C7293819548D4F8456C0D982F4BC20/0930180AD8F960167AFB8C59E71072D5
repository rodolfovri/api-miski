namespace Miski.Shared.DTOs.Compras;

public class CompraDto
{
    public int IdCompra { get; set; }
    public int IdNegociacion { get; set; }
    public string? Serie { get; set; }
    public DateTime? FRegistro { get; set; }
    public DateTime? FEmision { get; set; }
    public string? Estado { get; set; }
    public string? EstadoRecepcion { get; set; }
    
    // Información de la negociación asociada
    public string? ProveedorNombre { get; set; }
    public string? ComisionistaNombre { get; set; }
    
    // Totales calculados desde los Lotes
    public decimal PesoTotal { get; set; }
    public int SacosTotales { get; set; }
    
    // Totales originales desde la Negociación
    public decimal NegociacionPesoTotal { get; set; }
    public int NegociacionSacosTotales { get; set; }
    
    public decimal PrecioUnitario { get; set; }
    public decimal MontoTotal { get; set; }
    
    // Lotes asociados a esta compra
    public List<LoteDto> Lotes { get; set; } = new List<LoteDto>();
}

public class LoteDto
{
    public int IdLote { get; set; }
    public int IdCompra { get; set; }
    public decimal Peso { get; set; }
    public int Sacos { get; set; }
    public string? Codigo { get; set; }
    public decimal? Comision { get; set; }
    public string? Observacion { get; set; }
}

public class CreateLoteDto
{
    public int IdCompra { get; set; }
    public decimal Peso { get; set; }
    public int Sacos { get; set; }
    public string? Codigo { get; set; }
    public decimal MontoTotal { get; set; }  // Monto total que se seteará en la Compra
    public decimal? Comision { get; set; }
    public string? Observacion { get; set; }
}

public class UpdateLoteDto
{
    public int IdLote { get; set; }
    public int IdCompra { get; set; }
    public decimal Peso { get; set; }
    public int Sacos { get; set; }
    public string? Codigo { get; set; }
    public decimal? Comision { get; set; }
    public string? Observacion { get; set; }
}

public class AnularCompraDto
{
    public int IdUsuarioAnulacion { get; set; }
    public string MotivoAnulacion { get; set; } = string.Empty;
}
