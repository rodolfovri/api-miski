using Microsoft.AspNetCore.Http;

namespace Miski.Shared.DTOs.Compras;

public class NegociacionDto
{
    public int IdNegociacion { get; set; }
    public int? IdProveedor { get; set; }
    public int IdComisionista { get; set; }
    public int? IdProducto { get; set; }
    public DateTime FRegistro { get; set; }
    public decimal PesoTotal { get; set; }
    public int SacosTotales { get; set; }
    public decimal PrecioUnitario { get; set; }
    public string NroCuentaRuc { get; set; } = string.Empty;
    public string FotoCalidadProducto { get; set; } = string.Empty;
    public string FotoDniFrontal { get; set; } = string.Empty;
    public string FotoDniPosterior { get; set; } = string.Empty;
    public string? EstadoAprobado { get; set; }
    public int? AprobadaPor { get; set; }
    public DateTime? FAprobacion { get; set; }
    public string? Observacion { get; set; }
    public string? Estado { get; set; }
    
    // Información adicional
    public string? ProveedorNombre { get; set; }
    public string? ComisionistaNombre { get; set; }
    public string? ProductoNombre { get; set; }
    public string? AprobadaPorNombre { get; set; }
    public decimal MontoTotal { get; set; }
}

public class CreateNegociacionDto
{
    public int? IdProveedor { get; set; }
    public int IdComisionista { get; set; }
    public int? IdProducto { get; set; }
    public decimal PesoTotal { get; set; }
    public int SacosTotales { get; set; }
    public decimal PrecioUnitario { get; set; }
    public string NroCuentaRuc { get; set; } = string.Empty;
    
    // Las fotos se subirán como archivos
    public IFormFile? FotoCalidadProducto { get; set; }
    public IFormFile? FotoDniFrontal { get; set; }
    public IFormFile? FotoDniPosterior { get; set; }
    
    public string? Observacion { get; set; }
}

public class UpdateNegociacionDto
{
    public int IdNegociacion { get; set; }
    public int? IdProveedor { get; set; }
    public int IdComisionista { get; set; }
    public int? IdProducto { get; set; }
    public decimal PesoTotal { get; set; }
    public int SacosTotales { get; set; }
    public decimal PrecioUnitario { get; set; }
    public string NroCuentaRuc { get; set; } = string.Empty;
    
    // Para actualizar las fotos (opcional)
    public IFormFile? FotoCalidadProducto { get; set; }
    public IFormFile? FotoDniFrontal { get; set; }
    public IFormFile? FotoDniPosterior { get; set; }
    
    // URLs actuales (si no se suben nuevas fotos)
    public string? FotoCalidadProductoUrl { get; set; }
    public string? FotoDniFrontalUrl { get; set; }
    public string? FotoDniPosteriorUrl { get; set; }
    
    public string? Observacion { get; set; }
}

public class AprobarNegociacionDto
{
    public int IdNegociacion { get; set; }
    public int AprobadaPor { get; set; }
    public string? Observacion { get; set; }
}
